<div class="chapter">
    <p>Formulaire d'inscription</p>

    <form [formGroup]="registerForm" (ngSubmit)="register()">
        <div class="form-group">
            <label for="lastname">Nom :</label>
            <input id="lastname" type="text" formControlName="lastname">
            <!-- On regarde si le champs est valide ou non (mais on ne saura pas pourquoi il est invalide) -->
            <!-- <span *ngIf="!registerForm.get('lastname')?.valid" class="txt-error">Le champs n'est pas valide</span> -->
            <span *ngIf="registerForm.get('lastname')?.touched && registerForm.get('lastname')?.errors?.['required']" class="txt-error">Le champs est requis</span>

            <span *ngIf="registerForm.get('lastname')?.errors?.['minlength'] || registerForm.get('lastname')?.errors?.['maxlength']" class="txt-error">Votre nom doit faire minimum 2 caractères et maximum 100 caractères</span>
        </div>

        <div class="form-group">
            <label for="firstname">Prénom :</label>
            <input id="firstname" type="text" formControlName="firstname">
            <span *ngIf="registerForm.get('firstname')?.touched && registerForm.get('firstname')?.errors?.['required']" class="txt-error">Le champs est requis</span>

            <span *ngIf="registerForm.get('firstname')?.errors?.['minlength'] || registerForm.get('firstname')?.errors?.['maxlength']" class="txt-error">Votre prénom doit faire minimum 2 caractères et maximum 100 caractères</span>
        </div>

        <div class="form-group">
            <label for="email">Email : </label>
            <input id="email" type="email" formControlName="email">
            <span *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.errors?.['required']" class="txt-error">Le champs est requis</span>

            <span *ngIf="registerForm.get('email')?.errors?.['email']" class="txt-error">Votre email est invalide</span>
        </div>

        <div class="form-group">
            <label for="password">Mot de passe : </label>
            <input id="password" type="password" formControlName="password">
            <span *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.errors?.['required']" class="txt-error">Le champs est requis</span>
        </div>

        <div class="form-group">
            <label for="birthdate">Date de naissance : </label>
            <input id="birthdate" type="date" formControlName="birthdate">
            <span *ngIf="registerForm.get('birthdate')?.touched && registerForm.get('birthdate')?.errors?.['required']" class="txt-error">Le champs est requis</span>
        </div>



        <div class="form-group">
            <label for="role">Votre Role : </label>
            <select formControlName="role" id="role">
                <option value="" hidden>Choisissez un role dans la liste</option>
                <option *ngFor="let role of listRole" [value]="role">{{role}}</option>
            </select>
            <span *ngIf="registerForm.get('role')?.touched && registerForm.get('role')?.errors?.['required']" class="txt-error">Le champs est requis</span>
        </div>

        <div class="form-submit">
            <input class="button" type="submit" value="S'enregistrer">
        </div>
    </form>
</div>
